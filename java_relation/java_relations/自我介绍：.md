自我介绍：

面试官，您好，我叫谢文杰，现在就读于重庆大学光电工程学院，是一名硕士研究生，自己的研究方向是计算机视觉中的目标跟踪，通过自己将近一年的努力，自己提出了一种基于通道和空间注意力机制的目标跟踪方法，相对于其他方法，本文的方法可以很好地提取目标特征，跟踪的效果更好，自己已经写好一篇中文，电子与信息学报正在外审。基于兴趣，自己平时学习Java相关的知识，并且自己搭建了一个人事系统，利用主流的框架，可以实现权限数据库登录，对人员信息的增删改查，录入人员信息可以发送一封入职邮件。在学习的过程中，我会撰写技术博客记录自己的学习，不断反思自己总结自己。在平时，我也参加了几个比赛，在18年的时候参见了研究生数学建模比赛获得了全国第三名的成绩，在19年的时候，参见了由武汉大学举办的遥感图像表征与智能分析竞赛-题目5-目标跟踪，获得了20名成绩，也参见了阿里云天池举办的县域农业大脑的一个图像分割比赛，这个比赛进入了复赛并获得了49名。在平时的学习中，谢谢面试官，以上就是我简要的介绍。

数学建模比赛：

这个比赛是在2018年的时候和同学组队一起参见的比赛，我参与论文写作和问题2的解决。问题二是光传送网规划问题。题目是为全国12个区域进行网络规划，找出网络价值的最大值。在本题中我通过上网查到12个地区的人口和之间的距离，形成了一个表。对于距离建立了一个矩阵，利用给定的传输距离和传输容量之间关系的表得到一个最大通信容量矩阵。在通过连接的价值等于容量×人口，可以求得每条连接的价值矩阵。题目中需要用连接数为16条且12个城市都接入网络中，采用了贪心算法的思路进行求解，先得到所有城市连接价值的集合，再找出连接价值最大的16条光纤连接，并按照连接价值高低进行排序。题目进一步要求连接数增加到33条最大网络价值求解，此时只需从得到的所有城市连接价值的集合中去掉之前所选取的16条连接线，再从剩下的集合中选取连接价值最大的17条连线即可求得33条连接构成网络的最大的网络价值。并且利用visio在图中画出连线。

县域农业大脑AI挑战赛

这个比赛是阿里天池云举办的一个图像分割的比赛，在这个比赛中利用无人机航拍的地面影像，探索作物分类的精准算法，识别薏仁米，玉米等其他作物。在这次比赛中利用unet，unet利用实际上是一种编码解码的过程。作为分割的baseline，首先提交了baseline的分割效果，在此基础上对网络的结构进行调节和调参，利用了unet++的网络，在unet网络的基础上。

遥感图像表征与智能分析竞赛赛题5-目标跟踪

这个比赛是由武汉大学举办的，分为五个赛题，本人做的是赛题5-目标跟踪，这个赛题和我之前做的还是有很大的区别，该赛题的图像利用高空无人机拍摄，所以目标的特别小而且目标的分辨率也是很低。本人在课题的数据集都是平时常见的汽车，人物等图，图像都很大。当时我尝试了多个算法，比如siamfc，MDNet,vital等网络，其中MDnet网络是最好的，我就选定这个网络作为baseline，之后我就对这个网络进行了改进，由于跟踪目标的尺度都比较小，我调节了候选样本和训练样本生成尺寸，可以使的目标包罗得更好。当时我知道平时训练的网络和比赛的跟踪场景有很大的差别。之后我想的是利用和赛题相近的数据集训练网络，但是这样的图像在网络上也没能找到，所以只能止步于20名成绩。

你项目的亮点

有一个mailserver单独独立出来用于邮件的发送，利用消息中间，谁想发邮件就给消息中间件发送，消息中间件收到后会有mailserver去消费消息，实现邮件的发送。刚开始的时候考虑的比较简单，在一个非常理想的情况下，这个消息一次就发送成功，一次就消费成功。但是生成环境是非常复杂的，可能会遇到各种情况，发送失败，消费失败等情况。怎样去提高rabbitmq的可靠性。我将从消息发送，消息消费两方面进行探索。发送的时候怎样确保消息100%的发送出去。

消息发送：

首先建立了一个mail_send_log表，这个表就是用来记录发送的每一条消息，发给消息中间件的消息。

![image-20200811213245811](C:\Users\xwj\AppData\Roaming\Typora\typora-user-images\image-20200811213245811.png)

对于这个表，创建了一个model，MailSendLog这样一个实体类。属性分别表示：msgId：消息的id，empId：该消息关联的employee的Id。消息中间件包含了员工的基本信息。status：表示投递的状态，0：投递中，1：投递成功，2：投递失败。routeKey，exchange是rabbitMQ两个。count是重试的次数；trytime是指重试的时间。消息的创建时间和更新时间。

同时对于表建立一个mapper接口和xml配置文件。

创建MailSendService.

之前的消息传送是在EmployeeService中的addEmp()中，先对员工信息进行添加，添加成功后，包消息发给消息中间件。在发送的过程中使用的是springboot提供的rabbitTemplate.convertAndSend()。为了处理消息发送的问题，所有就自己创建了rabbitTemplate，自己在service层创建了一个config包重写了RabbitTemplate-名字定义为RabbitConfig，在这里需要定义rabbitTemplate，注入了一个CachingConnectingFactory工厂。在类中自己定义一个RabbitTemplate的bean。利用new RabbitTemplate(cachingConnectionFactory)。确认消息是否发送成功，如果消息发送到rabbitMQ，rabbitMQ可以把消息告诉我的：rabbitTemplate.setConfirmCallback();

自己定义了很多常量，各种状态，最大重试次数，消息超时时间，队列的名字，交换机的名字，路由键的名字。

利用UUID生成唯一的ID。设置各种必要的属性，设置尝试的时间，尝试时间设为1分钟，保证消息正常发送成功，如果超出尝试时间，那就得重新投递了，也就是啥时候去收集，开始重新投递了。编写mailSendLogService层的insert方法。这样就实现了消息的发送，很有可能发送失败，记下来就需要处理发送失败应该怎样处理。在

第二个视频来讲解rabbitMQ的高可用，当消息发送失败时，该怎样弄。自己在service层加了一个tasks包，弄一个定时任务出来。通过循环去发现表中消息发送的状态，如果存在消息发送失败，就需要拿出消息重新投递。为了开启定时任务，需要在项目的启动类上添加一个注解@enableScheduling。在MailSendTask中注入mailSendLogService和rabbitTemplate，employeeService。自己设定每个10秒重复发送。首先需要查询那些需要被处理的：当表中的状态是2就是失败了，先不管，当是0就得管：当重试的时间小于当前的时间：

```xml
select * from mail_send_log where status = 0 and trytime < systime();
```

接着判断重试的次数，当重试的次数已经大于等于3了，直接设置该条消息发送失败。否则，对投递的次数进行更新，接着得到当条记录员工信息，对这个信息进行投递。

```java
update mail_send_log set count=count+1, updateTime=#{date} where msgId=#{msgId};
```



自己实现了邮件的可靠性发送，自己实现了邮件的失败重新发送。

